<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
        />
        <title>거래 상세</title>
        <link rel="stylesheet" href="../app.css" />
        <link rel="stylesheet" href="transaction.css" />
    </head>
    <body>
        <div class="container">
            <!-- 헤더 -->
            <div class="header">
                <button class="back-btn" onclick="goBack()">
                    ←
                </button>
                <h1>거래 상세</h1>
            </div>

            <!-- 로딩 오버레이 -->
            <div
                id="loadingOverlay"
                class="loading-overlay"
            >
                <div class="loading-spinner"></div>
                <div class="loading-text">
                    거래 정보를 불러오는 중...
                </div>
            </div>

            <!-- 거래 상세 정보 -->
            <div
                id="transactionDetails"
                class="transaction-details-container"
                style="display: none"
            >
                <!-- 거래 상태 -->
                <div class="status-card">
                    <div
                        id="statusIcon"
                        class="status-icon"
                    ></div>
                    <div
                        id="statusText"
                        class="status-text"
                    ></div>
                    <div
                        id="statusDescription"
                        class="status-description"
                    ></div>
                </div>

                <!-- 거래 금액 -->
                <div class="amount-card">
                    <div class="amount-label">
                        거래 금액
                    </div>
                    <div
                        id="transactionAmount"
                        class="amount-value"
                    ></div>
                    <div
                        id="transactionSymbol"
                        class="amount-symbol"
                    ></div>
                </div>

                <!-- 거래 정보 -->
                <div class="info-card">
                    <h3>거래 정보</h3>
                    <div class="info-row">
                        <span class="info-label"
                            >거래 해시</span
                        >
                        <span
                            id="transactionHash"
                            class="info-value hash-value"
                        ></span>
                    </div>
                    <div class="info-row">
                        <span class="info-label"
                            >블록 높이</span
                        >
                        <span
                            id="blockHeight"
                            class="info-value"
                        ></span>
                    </div>
                    <div class="info-row">
                        <span class="info-label"
                            >거래 시간</span
                        >
                        <span
                            id="transactionTime"
                            class="info-value"
                        ></span>
                    </div>
                    <div class="info-row">
                        <span class="info-label"
                            >거래 타입</span
                        >
                        <span
                            id="transactionType"
                            class="info-value"
                        ></span>
                    </div>
                </div>

                <!-- 주소 정보 -->
                <div class="info-card">
                    <h3>주소 정보</h3>
                    <div class="info-row">
                        <span class="info-label"
                            >보낸 주소</span
                        >
                        <span
                            id="senderAddress"
                            class="info-value address-value"
                        ></span>
                    </div>
                    <div class="info-row">
                        <span class="info-label"
                            >받는 주소</span
                        >
                        <span
                            id="recipientAddress"
                            class="info-value address-value"
                        ></span>
                    </div>
                </div>

                <!-- 메모 -->
                <div
                    id="memoCard"
                    class="info-card"
                    style="display: none"
                >
                    <h3>메모</h3>
                    <div class="memo-content">
                        <span
                            id="memoText"
                            class="memo-text"
                        ></span>
                    </div>
                </div>

                <!-- 가스 정보 -->
                <div class="info-card">
                    <h3>가스 정보</h3>
                    <div class="info-row">
                        <span class="info-label"
                            >사용된 가스</span
                        >
                        <span
                            id="gasUsed"
                            class="info-value"
                        ></span>
                    </div>
                    <div class="info-row">
                        <span class="info-label"
                            >요청된 가스</span
                        >
                        <span
                            id="gasWanted"
                            class="info-value"
                        ></span>
                    </div>
                </div>

                <!-- 수수료 정보 -->
                <div
                    id="feeCard"
                    class="info-card"
                    style="display: none"
                >
                    <h3>수수료 정보</h3>
                    <div class="info-row">
                        <span class="info-label"
                            >수수료</span
                        >
                        <span
                            id="feeAmount"
                            class="info-value"
                        ></span>
                    </div>
                </div>

                <!-- 이벤트 정보 -->
                <div class="info-card">
                    <h3>이벤트 정보</h3>
                    <div
                        id="eventsList"
                        class="events-list"
                    >
                        <!-- 이벤트들이 동적으로 추가됨 -->
                    </div>
                </div>

                <!-- 액션 버튼 -->
                <div class="action-buttons">
                    <button
                        id="copyHashBtn"
                        class="action-btn secondary"
                        onclick="copyTransactionHash()"
                    >
                        해시 복사
                    </button>
                    <button
                        id="viewExplorerBtn"
                        class="action-btn primary"
                        onclick="viewInExplorer()"
                    >
                        익스플로러에서 보기
                    </button>
                </div>
            </div>

            <!-- 오류 메시지 -->
            <div
                id="errorMessage"
                class="error-message"
                style="display: none"
            >
                <div class="error-icon">❌</div>
                <div class="error-text">
                    거래 정보를 불러올 수 없습니다
                </div>
                <button
                    class="retry-btn"
                    onclick="loadTransactionDetails()"
                >
                    다시 시도
                </button>
            </div>
        </div>

        <script src="../app.js"></script>
        <script src="transaction.js"></script>
    </body>
</html>
