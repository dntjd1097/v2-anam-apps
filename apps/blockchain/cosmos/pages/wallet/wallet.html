<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
        />
        <title>Cosmos Wallet - λ€μ‹λ³΄λ“</title>
        <link rel="stylesheet" href="../../app.css" />
        <link rel="stylesheet" href="wallet.css" />
    </head>
    <body>
        <div class="container safe-area-inset">
            <!-- ν—¤λ” -->
            <div class="header">
                <button class="back-btn" onclick="goBack()">
                    β†
                </button>
                <div class="header-title">μ§€κ°‘</div>
                <button
                    class="settings-btn"
                    onclick="showSettings()"
                >
                    β™οΈ
                </button>
            </div>

            <!-- μ”μ•΅ μΉ΄λ“ -->
            <div class="balance-card">
                <div
                    class="balance-amount"
                    id="balanceAmount"
                >
                    0.000000
                </div>
                <div class="balance-currency">ATOM</div>
                <div class="balance-usd" id="balanceUSD">
                    β‰ $0.00 USD
                </div>
            </div>

            <!-- μ£Όμ† μ •λ³΄ -->
            <div class="card">
                <div class="card-header">
                    <span class="card-title"
                        >μ§€κ°‘ μ£Όμ†</span
                    >
                    <button
                        class="copy-btn"
                        onclick="copyAddress()"
                    >
                        π“‹
                    </button>
                </div>
                <div
                    class="address-display"
                    id="walletAddress"
                >
                    <span class="address-text"
                        >λ΅λ”© μ¤‘...</span
                    >
                </div>
            </div>

            <!-- μ•΅μ… λ²„νΌ -->
            <div class="action-buttons">
                <button
                    class="action-btn btn-primary"
                    onclick="goToSend()"
                >
                    <span class="btn-icon">π“¤</span>
                    μ „μ†΅
                </button>
                <button
                    class="action-btn btn-secondary"
                    onclick="goToReceive()"
                >
                    <span class="btn-icon">π“¥</span>
                    λ°›κΈ°
                </button>
                <button
                    class="action-btn btn-secondary"
                    onclick="testBalance()"
                    style="background: #6c5ce7"
                >
                    <span class="btn-icon">π”</span>
                    μ”μ•΅ ν…μ¤νΈ
                </button>
                <button
                    class="action-btn btn-secondary"
                    onclick="testRpcConnection()"
                    style="background: #00b894"
                >
                    <span class="btn-icon">π</span>
                    RPC ν…μ¤νΈ
                </button>
                <button
                    class="action-btn btn-secondary"
                    onclick="testRpcConnection()"
                    style="background: #00b894"
                >
                    <span class="btn-icon">π</span>
                    RPC ν…μ¤νΈ
                </button>
            </div>

            <!-- μµκ·Ό κ±°λ λ‚΄μ—­ -->
            <div class="card">
                <div class="card-header">
                    <span class="card-title"
                        >μµκ·Ό κ±°λ</span
                    >
                    <button
                        class="refresh-btn"
                        onclick="refreshTransactions()"
                    >
                        π”„
                    </button>
                </div>
                <div
                    class="transactions-container"
                    id="transactionsContainer"
                >
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>κ±°λ λ‚΄μ—­μ„ λ¶λ¬μ¤λ” μ¤‘...</p>
                    </div>
                </div>
            </div>

            <!-- μ„¤μ • λ¨λ‹¬ -->
            <div id="settingsModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>μ„¤μ •</h2>
                        <button
                            class="close-btn"
                            onclick="closeSettingsModal()"
                        >
                            &times;
                        </button>
                    </div>

                    <div class="modal-body">
                        <div class="settings-options">
                            <button
                                class="settings-option"
                                onclick="exportWallet()"
                            >
                                <span class="option-icon"
                                    >π“¤</span
                                >
                                <span class="option-text"
                                    >μ§€κ°‘ λ‚΄λ³΄λ‚΄κΈ°</span
                                >
                            </button>

                            <button
                                class="settings-option"
                                onclick="showPrivateKey()"
                            >
                                <span class="option-icon"
                                    >π”‘</span
                                >
                                <span class="option-text"
                                    >κ°μΈν‚¤ ν™•μΈ</span
                                >
                            </button>

                            <button
                                class="settings-option"
                                onclick="showChainInfo()"
                            >
                                <span class="option-icon"
                                    >β„ΉοΈ</span
                                >
                                <span class="option-text"
                                    >μ²΄μΈ μ •λ³΄</span
                                >
                            </button>

                            <button
                                class="settings-option"
                                onclick="goToTest()"
                            >
                                <span class="option-icon"
                                    >π§</span
                                >
                                <span class="option-text"
                                    >μ§€κ°‘ ν…μ¤νΈ</span
                                >
                            </button>

                            <button
                                class="settings-option"
                                onclick="clearWallet()"
                            >
                                <span class="option-icon"
                                    >π—‘οΈ</span
                                >
                                <span class="option-text"
                                    >μ§€κ°‘ μ‚­μ </span
                                >
                            </button>
                        </div>
                    </div>
                </div>

                <!-- μ²΄μΈ μ •λ³΄ λ¨λ‹¬ -->
                <div id="chainInfoModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2>μ²΄μΈ μ •λ³΄</h2>
                            <button
                                class="close-btn"
                                onclick="closeChainInfoModal()"
                            >
                                &times;
                            </button>
                        </div>

                        <div class="modal-body">
                            <div
                                class="chain-info-details"
                                id="chainInfoDetails"
                            >
                                <div class="loading">
                                    <div
                                        class="spinner"
                                    ></div>
                                    <p>
                                        μ²΄μΈ μ •λ³΄λ¥Ό λ¶λ¬μ¤λ”
                                        μ¤‘...
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- κ°μΈν‚¤ ν™•μΈ λ¨λ‹¬ -->
            <div id="privateKeyModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>κ°μΈν‚¤ μ •λ³΄</h2>
                        <button
                            class="close-btn"
                            onclick="closePrivateKeyModal()"
                        >
                            &times;
                        </button>
                    </div>

                    <div class="modal-body">
                        <div class="warning-message">
                            <div class="warning-icon">
                                β οΈ
                            </div>
                            <p>
                                <strong>κ²½κ³ :</strong>
                                κ°μΈν‚¤λ” μ λ€ νƒ€μΈκ³Ό
                                κ³µμ ν•μ§€ λ§μ„Έμ”.
                            </p>
                            <p>
                                κ°μΈν‚¤κ°€ λ…Έμ¶λλ©΄ μμ‚°μ„
                                μƒμ„ μ μμµλ‹λ‹¤.
                            </p>
                        </div>

                        <div class="input-group">
                            <label class="input-label"
                                >κ°μΈν‚¤</label
                            >
                            <input
                                type="password"
                                id="privateKeyInput"
                                class="input-field"
                                readonly
                            />
                        </div>

                        <div class="modal-actions">
                            <button
                                class="btn btn-secondary"
                                onclick="togglePrivateKeyVisibility()"
                            >
                                <span class="btn-icon"
                                    >π‘οΈ</span
                                >
                                ν‘μ‹/μ¨κΉ€
                            </button>
                            <button
                                class="btn btn-primary"
                                onclick="copyPrivateKey()"
                            >
                                <span class="btn-icon"
                                    >π“‹</span
                                >
                                λ³µμ‚¬
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cosmos SDK λ²λ“¤λ¬ λ΅λ“ -->
        <script src="../../assets/libs/cosmos-bundle.iife.js"></script>
        <script src="../../app.js"></script>
        <script src="wallet.js"></script>

        <!-- μ „μ—­ μ„¤μ • λ΅λ” -->
        <script src="../../assets/libs/config-loader.js"></script>
    </body>
</html>
