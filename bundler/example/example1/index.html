<!DOCTYPE html>
<html>
  <head>
    <title>example1</title>
  </head>
  <body>
    <!-- Solana CDN -->
    <!-- https://solana.com/ko/docs/clients/javascript -->
    <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bip39@3.1.0/dist/bip39.min.js"></script>

    <script>
      // Solana는 작동함!
      console.log(solanaWeb3); // "object" ✅

      // 키페어 생성
      const keypair = solanaWeb3.Keypair.generate();
      console.log("v1 방식 - 주소:", keypair.publicKey.toString());
      // 작동 x
      // 해당 파일은 Node.js 모듈 형식
      // module.exports, require('...')를 사용하는데 브라우저는 이해 못함 (CommonJS 문법)
      // 브라우저는 window.bip39를 기대하지만 없음
      // 브라우저는 전역 변수나 ES6 모듈 필요
      // 즉 CDN에 있는 파일이라고 다 브라우저에서 작동하는 게 아님
      // --> Node.js용 라이브러리는 번들링이 필요
      const mnemonic = bip39.generateMnemonic();
      console.log("니모닉:", mnemonic);
    </script>
  </body>
</html>
