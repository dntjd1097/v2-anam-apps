<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
        />
        <title>Cosmos SDK ë²ˆë“¤ëŸ¬ í…ŒìŠ¤íŠ¸</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: 'Segoe UI', Tahoma, Geneva,
                    Verdana, sans-serif;
                background: linear-gradient(
                    135deg,
                    #667eea 0%,
                    #764ba2 100%
                );
                min-height: 100vh;
                padding: 20px;
            }

            .container {
                max-width: 1200px;
                margin: 0 auto;
                background: white;
                border-radius: 15px;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
                overflow: hidden;
            }

            .header {
                background: linear-gradient(
                    135deg,
                    #667eea 0%,
                    #764ba2 100%
                );
                color: white;
                padding: 30px;
                text-align: center;
            }

            .header h1 {
                font-size: 2.5rem;
                margin-bottom: 10px;
            }

            .header p {
                font-size: 1.1rem;
                opacity: 0.9;
            }

            .content {
                padding: 30px;
            }

            .section {
                margin-bottom: 40px;
                padding: 25px;
                border: 1px solid #e1e5e9;
                border-radius: 10px;
                background: #f8f9fa;
            }

            .section h2 {
                color: #333;
                margin-bottom: 20px;
                font-size: 1.5rem;
                border-bottom: 2px solid #667eea;
                padding-bottom: 10px;
            }

            .form-group {
                margin-bottom: 20px;
            }

            label {
                display: block;
                margin-bottom: 8px;
                font-weight: 600;
                color: #555;
            }

            input,
            textarea,
            select {
                width: 100%;
                padding: 12px;
                border: 2px solid #ddd;
                border-radius: 8px;
                font-size: 14px;
                transition: border-color 0.3s;
            }

            input:focus,
            textarea:focus,
            select:focus {
                outline: none;
                border-color: #667eea;
            }

            button {
                background: linear-gradient(
                    135deg,
                    #667eea 0%,
                    #764ba2 100%
                );
                color: white;
                border: none;
                padding: 12px 25px;
                border-radius: 8px;
                cursor: pointer;
                font-size: 14px;
                font-weight: 600;
                transition: transform 0.2s;
                margin-right: 10px;
                margin-bottom: 10px;
            }

            button:hover {
                transform: translateY(-2px);
            }

            button:disabled {
                opacity: 0.6;
                cursor: not-allowed;
                transform: none;
            }

            .result {
                background: #f8f9fa;
                border: 1px solid #dee2e6;
                border-radius: 8px;
                padding: 15px;
                margin-top: 15px;
                font-family: 'Courier New', monospace;
                font-size: 12px;
                white-space: pre-wrap;
                max-height: 300px;
                overflow-y: auto;
            }

            .status {
                padding: 10px;
                border-radius: 5px;
                margin: 10px 0;
                font-weight: 600;
            }

            .status.success {
                background: #d4edda;
                color: #155724;
                border: 1px solid #c3e6cb;
            }

            .status.error {
                background: #f8d7da;
                color: #721c24;
                border: 1px solid #f5c6cb;
            }

            .status.info {
                background: #d1ecf1;
                color: #0c5460;
                border: 1px solid #bee5eb;
            }

            .grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
            }

            @media (max-width: 768px) {
                .grid {
                    grid-template-columns: 1fr;
                }
            }

            .wallet-info {
                background: #e3f2fd;
                border: 1px solid #bbdefb;
                border-radius: 8px;
                padding: 15px;
                margin: 15px 0;
            }

            .balance-display {
                background: #f3e5f5;
                border: 1px solid #e1bee7;
                border-radius: 8px;
                padding: 15px;
                margin: 15px 0;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="header">
                <h1>ğŸŒŒ Cosmos SDK ë²ˆë“¤ëŸ¬ í…ŒìŠ¤íŠ¸</h1>
                <p>
                    ì§€ê°‘ ìƒì„±, ì”ì•¡ ì¡°íšŒ, ì „ì†¡, íŠ¸ëœì­ì…˜
                    ì¡°íšŒ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”
                </p>
            </div>

            <div class="content">
                <!-- ì„¤ì • ì´ˆê¸°í™” -->
                <div class="section">
                    <h2>âš™ï¸ ì„¤ì • ì´ˆê¸°í™”</h2>
                    <button onclick="initializeConfig()">
                        ì„¤ì • ì´ˆê¸°í™”
                    </button>
                    <div id="configStatus"></div>
                </div>

                <!-- ì§€ê°‘ ìƒì„± -->
                <div class="section">
                    <h2>ğŸ‘› ì§€ê°‘ ìƒì„±</h2>
                    <div class="grid">
                        <div>
                            <h3>ìƒˆ ì§€ê°‘ ìƒì„±</h3>
                            <div class="form-group">
                                <label>ë‹ˆëª¨ë‹‰ ê¸¸ì´:</label>
                                <select id="mnemonicLength">
                                    <option value="12">
                                        12ë‹¨ì–´ (128ë¹„íŠ¸)
                                    </option>
                                    <option value="24">
                                        24ë‹¨ì–´ (256ë¹„íŠ¸)
                                    </option>
                                </select>
                            </div>
                            <button
                                onclick="generateNewWallet()"
                            >
                                ìƒˆ ì§€ê°‘ ìƒì„±
                            </button>
                        </div>
                        <div>
                            <h3>ê¸°ì¡´ ì§€ê°‘ ë³µêµ¬</h3>
                            <div class="form-group">
                                <label>ë‹ˆëª¨ë‹‰:</label>
                                <textarea
                                    id="existingMnemonic"
                                    rows="4"
                                    placeholder="12ê°œ ë˜ëŠ” 24ê°œì˜ ë‹¨ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                                ></textarea>
                            </div>
                            <button
                                onclick="restoreWallet()"
                            >
                                ì§€ê°‘ ë³µêµ¬
                            </button>
                            <button
                                onclick="extractPrivateKey()"
                                style="
                                    background: linear-gradient(
                                        135deg,
                                        #ff6b6b 0%,
                                        #ee5a24 100%
                                    );
                                "
                            >
                                ğŸ”‘ ê°œì¸í‚¤ ì¶”ì¶œ
                            </button>
                            <button
                                onclick="showPrivateKeyInfo()"
                                style="
                                    background: linear-gradient(
                                        135deg,
                                        #00b894 0%,
                                        #00a085 100%
                                    );
                                "
                            >
                                â„¹ï¸ ê°œì¸í‚¤ ì •ë³´
                            </button>
                        </div>
                    </div>
                    <div id="walletResult"></div>
                </div>

                <!-- ì”ì•¡ ì¡°íšŒ -->
                <div class="section">
                    <h2>ğŸ’° ì”ì•¡ ì¡°íšŒ</h2>
                    <div class="form-group">
                        <label>ì£¼ì†Œ:</label>
                        <input
                            type="text"
                            id="balanceAddress"
                            placeholder="cosmos1..."
                        />
                    </div>
                    <button onclick="checkBalance()">
                        ì”ì•¡ ì¡°íšŒ
                    </button>
                    <div id="balanceResult"></div>
                </div>

                <!-- í† í° ì „ì†¡ -->
                <div class="section">
                    <h2>ğŸ“¤ í† í° ì „ì†¡</h2>
                    <div class="form-group">
                        <label>ë³´ë‚´ëŠ” ì£¼ì†Œ (ê°œì¸í‚¤):</label>
                        <input
                            type="text"
                            id="fromPrivateKey"
                            placeholder="ê°œì¸í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                        />
                    </div>
                    <div class="form-group">
                        <label>ë°›ëŠ” ì£¼ì†Œ:</label>
                        <input
                            type="text"
                            id="toAddress"
                            placeholder="cosmos1..."
                        />
                    </div>
                    <div class="form-group">
                        <label>ì „ì†¡ëŸ‰ (ATOM):</label>
                        <input
                            type="number"
                            id="sendAmount"
                            placeholder="0.001"
                            step="0.001"
                            min="0"
                        />
                    </div>
                    <div class="form-group">
                        <label>ë©”ëª¨ (ì„ íƒì‚¬í•­):</label>
                        <input
                            type="text"
                            id="sendMemo"
                            placeholder="ì „ì†¡ ë©”ëª¨"
                        />
                    </div>
                    <button onclick="sendTokens()">
                        í† í° ì „ì†¡
                    </button>
                    <div id="sendResult"></div>
                </div>

                <!-- íŠ¸ëœì­ì…˜ ì¡°íšŒ -->
                <div class="section">
                    <h2>ğŸ“‹ íŠ¸ëœì­ì…˜ ì¡°íšŒ</h2>
                    <div class="form-group">
                        <label>ì£¼ì†Œ:</label>
                        <input
                            type="text"
                            id="txAddress"
                            placeholder="cosmos1..."
                        />
                    </div>
                    <div class="form-group">
                        <label>ì¡°íšŒ ê°œìˆ˜:</label>
                        <select id="txLimit">
                            <option value="10">10ê°œ</option>
                            <option value="20">20ê°œ</option>
                            <option value="50">50ê°œ</option>
                        </select>
                    </div>
                    <button onclick="getTransactions()">
                        íŠ¸ëœì­ì…˜ ì¡°íšŒ
                    </button>
                    <div id="txResult"></div>
                </div>

                <!-- ì²´ì¸ ì •ë³´ -->
                <div class="section">
                    <h2>â„¹ï¸ ì²´ì¸ ì •ë³´</h2>
                    <button onclick="showChainInfo()">
                        ì²´ì¸ ì •ë³´ ë³´ê¸°
                    </button>
                    <button onclick="showApiEndpoints()">
                        API ì—”ë“œí¬ì¸íŠ¸ ë³´ê¸°
                    </button>
                    <button onclick="showExplorers()">
                        ìµìŠ¤í”Œë¡œëŸ¬ ë³´ê¸°
                    </button>
                    <div id="infoResult"></div>
                </div>
            </div>
        </div>

        <!-- Cosmos ë²ˆë“¤ëŸ¬ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ -->
        <script src="./dist/cosmos-bundle.iife.js"></script>
        <script>
            let currentWallet = null;
            let currentAddress = null;

            function jsonStringifyWithBigInt(
                obj,
                space = 2
            ) {
                return JSON.stringify(
                    obj,
                    (key, value) =>
                        typeof value === 'bigint'
                            ? value.toString()
                            : value,
                    space
                );
            }

            // ì„¤ì • ì´ˆê¸°í™”
            async function initializeConfig() {
                const statusDiv =
                    document.getElementById('configStatus');
                statusDiv.innerHTML =
                    '<div class="status info">ì„¤ì •ì„ ì´ˆê¸°í™”í•˜ëŠ” ì¤‘...</div>';

                try {
                    await CosmosJS.initializeConfig();
                    const chainInfo =
                        CosmosJS.getChainInfo();
                    statusDiv.innerHTML = `
                                            <div class="status success">ì„¤ì • ì´ˆê¸°í™” ì™„ë£Œ!</div>
                                            <div class="result">
                        ì²´ì¸ ì •ë³´:
                        - ì´ë¦„: ${chainInfo.name}
                        - ì²´ì¸ ID: ${chainInfo.chainId}
                        - ë„¤íŠ¸ì›Œí¬: ${chainInfo.networkType}
                        - ìƒíƒœ: ${chainInfo.status}
                        - Bech32 ì ‘ë‘ì‚¬: ${chainInfo.bech32Prefix}
                                            </div>
                                        `;
                } catch (error) {
                    statusDiv.innerHTML = `<div class="status error">ì„¤ì • ì´ˆê¸°í™” ì‹¤íŒ¨: ${error.message}</div>`;
                }
            }

            // ìƒˆ ì§€ê°‘ ìƒì„±
            async function generateNewWallet() {
                const resultDiv =
                    document.getElementById('walletResult');
                const length = parseInt(
                    document.getElementById(
                        'mnemonicLength'
                    ).value
                );

                try {
                    // ë‹ˆëª¨ë‹‰ ìƒì„±
                    const mnemonic =
                        CosmosJS.generateMnemonic(
                            length === 12 ? 128 : 256
                        );

                    // ì§€ê°‘ ìƒì„±
                    const wallet =
                        await CosmosJS.createHdWalletFromMnemonic(
                            mnemonic
                        );
                    const address =
                        await CosmosJS.getWalletAddress(
                            wallet
                        );

                    currentWallet = wallet;
                    currentAddress = address;

                    resultDiv.innerHTML = `
                                            <div class="status success">ì§€ê°‘ ìƒì„± ì™„ë£Œ!</div>
                                            <div class="wallet-info">
                                                <strong>ìƒì„±ëœ ì§€ê°‘ ì •ë³´:</strong><br>
                                                ì£¼ì†Œ: ${address}<br>
                                                ë‹ˆëª¨ë‹‰: ${mnemonic}<br>
                                                ë‹ˆëª¨ë‹‰ ê¸¸ì´: ${length}ë‹¨ì–´
                                            </div>
                                            <div class="result">
                        ì§€ê°‘ ì •ë³´:
                        {
                          "address": "${address}",
                          "mnemonic": "${mnemonic}",
                          "length": ${length}
                        }
                                            </div>
                                        `;
                } catch (error) {
                    resultDiv.innerHTML = `<div class="status error">ì§€ê°‘ ìƒì„± ì‹¤íŒ¨: ${error.message}</div>`;
                }
            }

            // ì§€ê°‘ ë³µêµ¬
            async function restoreWallet() {
                const resultDiv =
                    document.getElementById('walletResult');
                const mnemonic = document
                    .getElementById('existingMnemonic')
                    .value.trim();

                if (!mnemonic) {
                    resultDiv.innerHTML =
                        '<div class="status error">ë‹ˆëª¨ë‹‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>';
                    return;
                }

                try {
                    // ë‹ˆëª¨ë‹‰ ê²€ì¦
                    if (
                        !CosmosJS.validateMnemonic(mnemonic)
                    ) {
                        resultDiv.innerHTML =
                            '<div class="status error">ìœ íš¨í•˜ì§€ ì•Šì€ ë‹ˆëª¨ë‹‰ì…ë‹ˆë‹¤.</div>';
                        return;
                    }

                    // ì§€ê°‘ ë³µêµ¬
                    const wallet =
                        await CosmosJS.createHdWalletFromMnemonic(
                            mnemonic
                        );
                    const address =
                        await CosmosJS.getWalletAddress(
                            wallet
                        );

                    currentWallet = wallet;
                    currentAddress = address;

                    const wordCount =
                        mnemonic.split(' ').length;

                    resultDiv.innerHTML = `
                                                 <div class="status success">ì§€ê°‘ ë³µêµ¬ ì™„ë£Œ!</div>
                                                 <div class="wallet-info">
                                                     <strong>ë³µêµ¬ëœ ì§€ê°‘ ì •ë³´:</strong><br>
                                                     ì£¼ì†Œ: ${address}<br>
                                                     ë‹ˆëª¨ë‹‰ ê¸¸ì´: ${wordCount}ë‹¨ì–´
                                                 </div>
                                                 <div class="result">
                         ì§€ê°‘ ì •ë³´:
                         {
                           "address": "${address}",
                           "mnemonic_length": ${wordCount}
                         }
                                                 </div>
                                             `;
                } catch (error) {
                    resultDiv.innerHTML = `<div class="status error">ì§€ê°‘ ë³µêµ¬ ì‹¤íŒ¨: ${error.message}</div>`;
                }
            }

            // ê°œì¸í‚¤ ì¶”ì¶œ
            async function extractPrivateKey() {
                const resultDiv =
                    document.getElementById('walletResult');
                const mnemonic = document
                    .getElementById('existingMnemonic')
                    .value.trim();

                if (!mnemonic) {
                    resultDiv.innerHTML =
                        '<div class="status error">ë‹ˆëª¨ë‹‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>';
                    return;
                }

                try {
                    // ê°œì¸í‚¤ ì¶”ì¶œ (ê°œì„ ëœ í•¨ìˆ˜ ì‚¬ìš©)
                    const result =
                        await CosmosJS.extractPrivateKey(
                            mnemonic
                        );

                    if (!result.success) {
                        resultDiv.innerHTML = `<div class="status error">${result.message}: ${result.error}</div>`;
                        return;
                    }

                    const keyInfo = result.data;

                    resultDiv.innerHTML = `
                                                 <div class="status success">${result.message}!</div>
                                                 <div class="wallet-info" style="background: #fff3cd; border-color: #ffeaa7;">
                                                     <strong>âš ï¸ ë³´ì•ˆ ì£¼ì˜ì‚¬í•­:</strong><br>
                                                     ê°œì¸í‚¤ëŠ” ì ˆëŒ€ íƒ€ì¸ì—ê²Œ ê³µìœ í•˜ì§€ ë§ˆì„¸ìš”!<br>
                                                     ì•ˆì „í•œ ê³³ì— ë°±ì—…í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
                                                 </div>
                                                 <div class="wallet-info">
                                                     <strong>ğŸ”‘ ì¶”ì¶œëœ í‚¤ ì •ë³´:</strong><br>
                                                     ğŸ“ ì£¼ì†Œ: ${keyInfo.address}<br>
                                                     ğŸ” ê°œì¸í‚¤: ${keyInfo.privateKey}<br>
                                                     ğŸ”“ ê³µê°œí‚¤: ${keyInfo.publicKey}<br>
                                                     ğŸ›¤ï¸ ê²½ë¡œ: ${keyInfo.path}
                                                 </div>
                                                 <div class="result">
                         ê°œì¸í‚¤ ì •ë³´:
                         {
                           "address": "${keyInfo.address}",
                           "privateKey": "${keyInfo.privateKey}",
                           "publicKey": "${keyInfo.publicKey}",
                           "path": "${keyInfo.path}"
                         }
                                                 </div>
                                             `;
                } catch (error) {
                    resultDiv.innerHTML = `<div class="status error">ê°œì¸í‚¤ ì¶”ì¶œ ì‹¤íŒ¨: ${error.message}</div>`;
                }
            }

            // ê°œì¸í‚¤ ì •ë³´ í‘œì‹œ
            function showPrivateKeyInfo() {
                const resultDiv =
                    document.getElementById('walletResult');

                resultDiv.innerHTML = `
                                            <div class="status info">â„¹ï¸ ê°œì¸í‚¤ ì •ë³´</div>
                                            <div class="wallet-info">
                                                <strong>ê°œì¸í‚¤ë€?</strong><br>
                                                â€¢ ê°œì¸í‚¤ëŠ” ì§€ê°‘ì˜ ì†Œìœ ê¶Œì„ ì¦ëª…í•˜ëŠ” ì•”í˜¸í™”ëœ í‚¤ì…ë‹ˆë‹¤<br>
                                                â€¢ 64ìë¦¬ 16ì§„ìˆ˜ ë¬¸ìì—´ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤<br>
                                                â€¢ ë‹ˆëª¨ë‹‰ì—ì„œ íŒŒìƒë˜ì–´ ìƒì„±ë©ë‹ˆë‹¤<br>
                                                â€¢ ì ˆëŒ€ íƒ€ì¸ì—ê²Œ ê³µìœ í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤
                                            </div>
                                            <div class="wallet-info">
                                                <strong>ì‚¬ìš© ë°©ë²•:</strong><br>
                                                1. ë‹ˆëª¨ë‹‰ì„ ì…ë ¥í•˜ì„¸ìš”<br>
                                                2. "ğŸ”‘ ê°œì¸í‚¤ ì¶”ì¶œ" ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”<br>
                                                3. ì¶”ì¶œëœ ê°œì¸í‚¤ë¥¼ ì•ˆì „í•œ ê³³ì— ë°±ì—…í•˜ì„¸ìš”
                                            </div>
                                            <div class="wallet-info" style="background: #ffeaa7; border-color: #fdcb6e;">
                                                <strong>âš ï¸ ë³´ì•ˆ ê²½ê³ :</strong><br>
                                                â€¢ ê°œì¸í‚¤ëŠ” ì§€ê°‘ì˜ ëª¨ë“  ìì‚°ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì„ ê°€ì§‘ë‹ˆë‹¤<br>
                                                â€¢ ê°œì¸í‚¤ê°€ ë…¸ì¶œë˜ë©´ ëª¨ë“  ìì‚°ì´ ë„ë‚œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤<br>
                                                â€¢ ì˜¤í”„ë¼ì¸ í™˜ê²½ì—ì„œë§Œ ê°œì¸í‚¤ë¥¼ í™•ì¸í•˜ì„¸ìš”<br>
                                                â€¢ ì•ˆì „í•œ í•˜ë“œì›¨ì–´ ì§€ê°‘ ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤
                                            </div>
                                        `;
            }

            // ì”ì•¡ ì¡°íšŒ
            async function checkBalance() {
                const resultDiv =
                    document.getElementById(
                        'balanceResult'
                    );
                const address = document
                    .getElementById('balanceAddress')
                    .value.trim();

                if (!address) {
                    resultDiv.innerHTML =
                        '<div class="status error">ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>';
                    return;
                }

                try {
                    // ì£¼ì†Œ ê²€ì¦
                    if (
                        !CosmosJS.validateAddress(address)
                    ) {
                        resultDiv.innerHTML =
                            '<div class="status error">ìœ íš¨í•˜ì§€ ì•Šì€ ì£¼ì†Œì…ë‹ˆë‹¤.</div>';
                        return;
                    }

                    // í´ë¼ì´ì–¸íŠ¸ ì—°ê²°
                    const client =
                        await CosmosJS.connectClient(
                            CosmosJS.getDefaultRpcUrl()
                        );

                    // ì”ì•¡ ì¡°íšŒ
                    const balance =
                        await CosmosJS.getBalance(
                            client,
                            address
                        );

                    resultDiv.innerHTML = `
                                            <div class="status success">ì”ì•¡ ì¡°íšŒ ì™„ë£Œ!</div>
                                            <div class="balance-display">
                                                <strong>ì”ì•¡ ì •ë³´:</strong><br>
                                                ìˆ˜ëŸ‰: ${balance.formatted} ATOM<br>
                                                ê¸°ë³¸ ë‹¨ìœ„: ${balance.amount} uatom<br>
                                                í† í°: ${balance.denom}
                                            </div>
                                            <div class="result">
                        ì”ì•¡ ì •ë³´:
                        {
                          "amount": "${balance.amount}",
                          "denom": "${balance.denom}",
                          "formatted": "${balance.formatted}"
                        }
                                            </div>
                                        `;
                } catch (error) {
                    resultDiv.innerHTML = `<div class="status error">ì”ì•¡ ì¡°íšŒ ì‹¤íŒ¨: ${error.message}</div>`;
                }
            }

            // í† í° ì „ì†¡
            async function sendTokens() {
                const resultDiv =
                    document.getElementById('sendResult');
                const privateKey = document
                    .getElementById('fromPrivateKey')
                    .value.trim();
                const toAddress = document
                    .getElementById('toAddress')
                    .value.trim();
                const amount = parseFloat(
                    document.getElementById('sendAmount')
                        .value
                );
                const memo = document
                    .getElementById('sendMemo')
                    .value.trim();

                if (
                    !privateKey ||
                    !toAddress ||
                    !amount ||
                    amount <= 0
                ) {
                    resultDiv.innerHTML =
                        '<div class="status error">ëª¨ë“  í•„ìˆ˜ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>';
                    return;
                }

                try {
                    // ê°œì¸í‚¤ë¡œ ì§€ê°‘ ìƒì„±
                    const wallet =
                        await CosmosJS.createWalletFromPrivateKey(
                            privateKey
                        );
                    const fromAddress =
                        await CosmosJS.getWalletAddress(
                            wallet
                        );

                    // ì£¼ì†Œ ê²€ì¦
                    if (
                        !CosmosJS.validateAddress(
                            fromAddress
                        ) ||
                        !CosmosJS.validateAddress(toAddress)
                    ) {
                        resultDiv.innerHTML =
                            '<div class="status error">ìœ íš¨í•˜ì§€ ì•Šì€ ì£¼ì†Œì…ë‹ˆë‹¤.</div>';
                        return;
                    }

                    // ì„œëª… í´ë¼ì´ì–¸íŠ¸ ì—°ê²°
                    const signingClient =
                        await CosmosJS.connectSigningClient(
                            CosmosJS.getDefaultRpcUrl(),
                            wallet
                        );

                    // ì „ì†¡ëŸ‰ì„ ê¸°ë³¸ ë‹¨ìœ„ë¡œ ë³€í™˜
                    const baseAmount =
                        CosmosJS.displayToBase(
                            amount.toString()
                        );

                    // í† í° ì „ì†¡
                    const result =
                        await CosmosJS.sendTokens(
                            signingClient,
                            fromAddress,
                            toAddress,
                            baseAmount,
                            null, // denom (ì„¤ì •ì—ì„œ ìë™ ì„ íƒ)
                            memo
                        );

                    resultDiv.innerHTML = `
                                            <div class="status success">í† í° ì „ì†¡ ì™„ë£Œ!</div>
                                            <div class="result">
                        ì „ì†¡ ê²°ê³¼:
                        {
                          "height": ${result.height},
                          "hash": "${result.hash}",
                          "gasUsed": ${result.gasUsed},
                          "gasWanted": ${result.gasWanted}
                        }
                                            </div>
                                        `;
                } catch (error) {
                    resultDiv.innerHTML = `<div class="status error">í† í° ì „ì†¡ ì‹¤íŒ¨: ${error.message}</div>`;
                }
            }

            // íŠ¸ëœì­ì…˜ ì¡°íšŒ
            async function getTransactions() {
                const resultDiv =
                    document.getElementById('txResult');
                const address = document
                    .getElementById('txAddress')
                    .value.trim();
                const limit = parseInt(
                    document.getElementById('txLimit').value
                );

                if (!address) {
                    resultDiv.innerHTML =
                        '<div class="status error">ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>';
                    return;
                }

                try {
                    // ì£¼ì†Œ ê²€ì¦
                    if (
                        !CosmosJS.validateAddress(address)
                    ) {
                        resultDiv.innerHTML =
                            '<div class="status error">ìœ íš¨í•˜ì§€ ì•Šì€ ì£¼ì†Œì…ë‹ˆë‹¤.</div>';
                        return;
                    }

                    resultDiv.innerHTML =
                        '<div class="status info">íŠ¸ëœì­ì…˜ì„ ì¡°íšŒí•˜ëŠ” ì¤‘...</div>';

                    // í´ë¼ì´ì–¸íŠ¸ ì—°ê²°
                    const client =
                        await CosmosJS.connectClient(
                            CosmosJS.getDefaultRpcUrl()
                        );

                    // íŠ¸ëœì­ì…˜ ì¡°íšŒ
                    const transactions =
                        await CosmosJS.getTransactions(
                            client,
                            address,
                            limit
                        );

                    if (transactions.length === 0) {
                        resultDiv.innerHTML = `
                                                    <div class="status info">íŠ¸ëœì­ì…˜ ì¡°íšŒ ì™„ë£Œ!</div>
                                                    <div class="wallet-info">
                                                        <strong>ì¡°íšŒ ê²°ê³¼:</strong><br>
                                                        í•´ë‹¹ ì£¼ì†Œì—ì„œ íŠ¸ëœì­ì…˜ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br>
                                                        ì£¼ì†Œ: ${address}
                                                    </div>
                                                `;
                    } else {
                        resultDiv.innerHTML = `
    <div class="status success">íŠ¸ëœì­ì…˜ ì¡°íšŒ ì™„ë£Œ! (${
        transactions.length
    }ê°œ)</div>
    <div class="wallet-info">
        <strong>ì¡°íšŒ ê²°ê³¼:</strong><br>
        ì£¼ì†Œ: ${address}<br>
        ì¡°íšŒëœ íŠ¸ëœì­ì…˜ ìˆ˜: ${transactions.length}ê°œ
    </div>
    <div class="result">
íŠ¸ëœì­ì…˜ ëª©ë¡:
${jsonStringifyWithBigInt(transactions, 2)}
    </div>
`;
                    }
                } catch (error) {
                    resultDiv.innerHTML = `
                                                <div class="status error">íŠ¸ëœì­ì…˜ ì¡°íšŒ ì‹¤íŒ¨</div>
                                                <div class="wallet-info" style="background: #ffeaa7; border-color: #fdcb6e;">
                                                    <strong>ì—ëŸ¬ ì •ë³´:</strong><br>
                                                    ${error.message}<br><br>
                                                    <strong>ê°€ëŠ¥í•œ ì›ì¸:</strong><br>
                                                    â€¢ RPC ë…¸ë“œê°€ íŠ¸ëœì­ì…˜ ê²€ìƒ‰ì„ ì§€ì›í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤<br>
                                                    â€¢ ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë¬¸ì œì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤<br>
                                                    â€¢ í•´ë‹¹ ì£¼ì†Œì— íŠ¸ëœì­ì…˜ì´ ì—†ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤
                                                </div>
                                            `;
                }
            }

            // ì²´ì¸ ì •ë³´ ë³´ê¸°
            function showChainInfo() {
                const resultDiv =
                    document.getElementById('infoResult');

                try {
                    const chainInfo =
                        CosmosJS.getChainInfo();
                    const assetInfo =
                        CosmosJS.getAssetInfo();
                    const feeInfo = CosmosJS.getFeeInfo();

                    resultDiv.innerHTML = `
                                            <div class="status success">ì²´ì¸ ì •ë³´ ì¡°íšŒ ì™„ë£Œ!</div>
                                            <div class="result">
                        ì²´ì¸ ì •ë³´:
                        ${JSON.stringify(
                            chainInfo,
                            null,
                            2
                        )}

                        ìì‚° ì •ë³´:
                        ${JSON.stringify(
                            assetInfo,
                            null,
                            2
                        )}

                        ìˆ˜ìˆ˜ë£Œ ì •ë³´:
                        ${JSON.stringify(feeInfo, null, 2)}
                                            </div>
                                        `;
                } catch (error) {
                    resultDiv.innerHTML = `<div class="status error">ì²´ì¸ ì •ë³´ ì¡°íšŒ ì‹¤íŒ¨: ${error.message}</div>`;
                }
            }

            // API ì—”ë“œí¬ì¸íŠ¸ ë³´ê¸°
            function showApiEndpoints() {
                const resultDiv =
                    document.getElementById('infoResult');

                try {
                    const rpcEndpoints =
                        CosmosJS.getRpcEndpoints();
                    const restEndpoints =
                        CosmosJS.getRestEndpoints();
                    const grpcEndpoints =
                        CosmosJS.getGrpcEndpoints();

                    resultDiv.innerHTML = `
                                            <div class="status success">API ì—”ë“œí¬ì¸íŠ¸ ì¡°íšŒ ì™„ë£Œ!</div>
                                            <div class="result">
                        RPC ì—”ë“œí¬ì¸íŠ¸ (${
                            rpcEndpoints.length
                        }ê°œ):
                        ${JSON.stringify(
                            rpcEndpoints.slice(0, 5),
                            null,
                            2
                        )}

                        REST ì—”ë“œí¬ì¸íŠ¸ (${
                            restEndpoints.length
                        }ê°œ):
                        ${JSON.stringify(
                            restEndpoints.slice(0, 5),
                            null,
                            2
                        )}

                        gRPC ì—”ë“œí¬ì¸íŠ¸ (${
                            grpcEndpoints.length
                        }ê°œ):
                        ${JSON.stringify(
                            grpcEndpoints.slice(0, 5),
                            null,
                            2
                        )}
                                            </div>
                                        `;
                } catch (error) {
                    resultDiv.innerHTML = `<div class="status error">API ì—”ë“œí¬ì¸íŠ¸ ì¡°íšŒ ì‹¤íŒ¨: ${error.message}</div>`;
                }
            }

            // ìµìŠ¤í”Œë¡œëŸ¬ ë³´ê¸°
            function showExplorers() {
                const resultDiv =
                    document.getElementById('infoResult');

                try {
                    const explorers =
                        CosmosJS.getExplorers();

                    resultDiv.innerHTML = `
                                            <div class="status success">ìµìŠ¤í”Œë¡œëŸ¬ ì¡°íšŒ ì™„ë£Œ! (${
                                                explorers.length
                                            }ê°œ)</div>
                                            <div class="result">
                        ìµìŠ¤í”Œë¡œëŸ¬ ëª©ë¡:
                        ${JSON.stringify(
                            explorers,
                            null,
                            2
                        )}
                                            </div>
                                        `;
                } catch (error) {
                    resultDiv.innerHTML = `<div class="status error">ìµìŠ¤í”Œë¡œëŸ¬ ì¡°íšŒ ì‹¤íŒ¨: ${error.message}</div>`;
                }
            }

            // í˜ì´ì§€ ë¡œë“œ ì‹œ ì„¤ì • ì´ˆê¸°í™”
            window.addEventListener('load', async () => {
                try {
                    await CosmosJS.initializeConfig();
                    console.log(
                        'Cosmos ë²ˆë“¤ëŸ¬ ì´ˆê¸°í™” ì™„ë£Œ'
                    );
                } catch (error) {
                    console.error(
                        'Cosmos ë²ˆë“¤ëŸ¬ ì´ˆê¸°í™” ì‹¤íŒ¨:',
                        error
                    );
                }
            });
        </script>
    </body>
</html>
